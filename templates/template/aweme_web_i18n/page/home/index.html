{% extends "template/aweme_web_i18n/page/layout.html" %}

{% block content %}
    {% comp name="web_i18n:component/common/header/index.html" user=user a=a %}

    {% comp name="web_i18n:component/common/footer/index.html" user=user %}

    {% comp name="web_i18n:component/home/comp1/index.html" %}
    {% comp name="web_i18n:component/home/comp2/index.html" %}

    {% comp name="web:component/home/comp1/index.html" %}

    {% script %}
    require('web_i18n:page/home/index').init()
    require('web:component/home/comp2/index').init()
    {% endscript %}

    <p>异常测试：</p>
    <p>{{ people.a.b }}</p>

    <script>var a = {{ user.a.b|jsonify }};</script>

    {% if user.username.b.x and user.username.b.x|length %}
    yes
    {% else %}
    no
    {% endif %}

    <p>{{ x.username.b and user.username.b.d.0 }}</p>

    <p>{{ user.username.b and user.username.b.0.x and user.username.b.0.x.0 }}</p>

    <p>翻译测试：</p>
    <p>{{ gettext('我是个<strong>测试</strong>') }}</p>
    <p>{{ gettext('我叫{username}', username=user.username)|e }}</p>
    <p>{{ gettext('今天天气是{weather}', weather="晴") }}</p>
    <p>{{ gettext('我是{username}', username=user.username)|e }}</p>

    <script type="text/javascript">
        console.log('{{ gettext('哈哈哈') }}')
        window.LANG_MAP = {{ _lang_map|jsonify }};
        // window.LANG_MAP = {
        //     '{year}年{month}月': "{{ gettexttpl('{year}年{month}月') }}"
        // };
        window.LANG_CODE = '{{ _lang_code }}';
        console.log(window.LANG_MAP);
    </script>
{% endblock %}
